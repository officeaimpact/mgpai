# üß≠ Cursor Rules: –ò–ò-–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –ú–ì–ü (–ú–∞–≥–∞–∑–∏–Ω –ì–æ—Ä—è—â–∏—Ö –¢—É—Ä–æ–≤)

## ü§ñ –†–æ–ª—å –∏ –ö–æ–Ω—Ç–µ–∫—Å—Ç
–¢—ã ‚Äî Senior AI Agent Engineer. –ú—ã —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞ –¥–ª—è –ø–æ–¥–±–æ—Ä–∞ —Ç—É—Ä–æ–≤ —á–µ—Ä–µ–∑ API Tourvisor. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî –ø–∏—Å–∞—Ç—å –Ω–∞–¥–µ–∂–Ω—ã–π, —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–æ–¥ –Ω–∞ –±–∞–∑–µ **FastAPI** –∏ **LangGraph**.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ü–∞–º—è—Ç—å
- [cite_start]**State Management:** –ò—Å–ø–æ–ª—å–∑—É–π `StateGraph` –∏–∑ LangGraph –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–æ–≥–∏–∫–æ–π –¥–∏–∞–ª–æ–≥–∞[cite: 104, 489].
- [cite_start]**Session Persistence:** –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∏—Å–ø–æ–ª—å–∑—É–π `thread_id` –∏ `Checkpointer` (MemorySaver) –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏[cite: 964, 1013]. –ë–æ—Ç –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –¥–æ–ª–∂–µ–Ω –∑–∞–±—ã–≤–∞—Ç—å –≤–≤–µ–¥–µ–Ω–Ω—ã–µ —Ä–∞–Ω–µ–µ –¥–∞–Ω–Ω—ã–µ (–ê–º–Ω–µ–∑–∏—è –∑–∞–ø—Ä–µ—â–µ–Ω–∞).
- [cite_start]**Window Buffer:** –û–≥—Ä–∞–Ω–∏—á—å –∏—Å—Ç–æ—Ä–∏—é –¥–∏–∞–ª–æ–≥–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–º–∏ 20 —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ —Å—É—Ç–∏[cite: 461].

## üìã –ñ–µ–ª–µ–∑–Ω–∞—è –õ–æ–≥–∏–∫–∞ –ö–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏ (Slot Filling)
[cite_start]–ë–æ—Ç –æ–±—è–∑–∞–Ω —Å–æ–±—Ä–∞—Ç—å 4 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º API [cite: 83-91]:
1. **Departure:** –ì–æ—Ä–æ–¥ –≤—ã–ª–µ—Ç–∞ (–∏—Å–ø–æ–ª—å–∑—É–π Fuzzy Search –¥–ª—è "–ü–∏—Ç–µ—Ä" -> "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥").
2. **Destination:** –°—Ç—Ä–∞–Ω–∞/–†–µ–≥–∏–æ–Ω/–û—Ç–µ–ª—å.
3. **Dates/Nights:** –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–∞—Ç—ã –∏–ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ—á–µ–π.
4. [cite_start]**Pax:** –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∑—Ä–æ—Å–ª—ã—Ö (1-6) –∏ –¥–µ—Ç–µ–π —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∏—Ö –≤–æ–∑—Ä–∞—Å—Ç–∞[cite: 14, 15, 33].

**–ü—Ä–∞–≤–∏–ª–∞ —Å–±–æ—Ä–∞:**
- **–ù–∏–∫–∞–∫–∏—Ö –¥–µ—Ñ–æ–ª—Ç–æ–≤:** –ù–µ –ø–æ–¥—Å—Ç–∞–≤–ª—è–π "2 –≤–∑—Ä–æ—Å–ª—ã—Ö" –∏–ª–∏ "–ú–æ—Å–∫–≤–∞" –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ ‚Äî —Å–ø—Ä–∞—à–∏–≤–∞–π.
- [cite_start]**–ù–µ –ø–æ–≤—Ç–æ—Ä—è–π—Å—è:** –ï—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä —è—Å–µ–Ω –∏–∑ –ø–µ—Ä–≤–æ–π —Ñ—Ä–∞–∑—ã, –Ω–µ –ø–µ—Ä–µ—Å–ø—Ä–∞—à–∏–≤–∞–π –µ–≥–æ[cite: 78].
- [cite_start]**–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –¥–∞—Ç:** –ï—Å–ª–∏ –∑–∞–¥–∞–Ω—ã –¥–∞—Ç—ã, –≤—ã—á–∏—Å–ª–∏ –Ω–æ—á–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏ –Ω–µ –∑–∞–¥–∞–≤–∞–π –≤–æ–ø—Ä–æ—Å[cite: 80].
- [cite_start]**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ—Ç–µ–ª—è:** –ï—Å–ª–∏ –Ω–∞–∑–≤–∞–Ω –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –æ—Ç–µ–ª—å, –ø—Ä–æ–ø—É—Å—Ç–∏ –≤–æ–ø—Ä–æ—Å –æ –∑–≤–µ–∑–¥–Ω–æ—Å—Ç–∏[cite: 81].

## ‚úàÔ∏è –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Tourvisor API
- [cite_start]**–§–∏–ª—å—Ç—Ä—ã:** –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π –º–∞–ø–ø–∏–Ω–≥ —É—Å–ª—É–≥: "–ø–µ—Å—á–∞–Ω—ã–π –ø–ª—è–∂", "–∞–∫–≤–∞–ø–∞—Ä–∫", "1-—è –ª–∏–Ω–∏—è", "—Ç–æ–ª—å–∫–æ –¥–ª—è –≤–∑—Ä–æ—Å–ª—ã—Ö" [cite: 19-26, 230].
- [cite_start]**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:** –í—ã–¥–∞–≤–∞–π —Å—Ç—Ä–æ–≥–æ 3-5 —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π[cite: 7, 52].
- [cite_start]**Fallback:** –ï—Å–ª–∏ —Ç—É—Ä–æ–≤ 0, –ø—Ä–µ–¥–ª–æ–∂–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã (—Å–æ—Å–µ–¥–Ω–∏–µ –¥–∞—Ç—ã +/- 2 –¥–Ω—è –∏–ª–∏ –¥—Ä—É–≥–æ–π –≥–æ—Ä–æ–¥ –≤—ã–ª–µ—Ç–∞)[cite: 73].
- [cite_start]**–≠—Å–∫–∞–ª–∞—Ü–∏—è:** –ï—Å–ª–∏ –≥—Ä—É–ø–ø–∞ > 6 —á–µ–ª–æ–≤–µ–∫ –∏–ª–∏ –∑–∞–ø—Ä–æ—Å —Å–ª–æ–∂–Ω—ã–π (–∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤) ‚Äî –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø—Ä–µ–¥–ª–∞–≥–∞–π –∑–≤–æ–Ω–æ–∫ –º–µ–Ω–µ–¥–∂–µ—Ä–∞[cite: 65, 1186].

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (AI-SAFE Guardrails)
- [cite_start]**Input Guardrails:** –í–∞–ª–∏–¥–∏—Ä—É–π –≤–≤–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç Prompt Injection[cite: 1043, 1163].
- **Output Guardrails:** –ó–∞–ø—Ä–µ—â–µ–Ω–æ –≤—ã–≤–æ–¥–∏—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ Python (Traceback). [cite_start]–ó–∞–º–µ–Ω—è–π –∏—Ö –Ω–∞ –≤–µ–∂–ª–∏–≤–æ–µ –∏–∑–≤–∏–Ω–µ–Ω–∏–µ[cite: 1166].
- **Pydantic Validation:** –í—Å–µ –¥–∞–Ω–Ω—ã–µ, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–µ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å—Ç—Ä–æ–≥–æ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω—ã.
- [cite_start]**Human-in-the-loop:** –õ—é–±—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—é –∏–ª–∏ –ø–µ—Ä–µ–¥–∞—á–µ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ —Ç—Ä–µ–±—É—é—Ç —è–≤–Ω–æ–≥–æ —Å–æ–≥–ª–∞—Å–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è[cite: 846, 1186].

## üîß FAQ –∏ –ó–Ω–∞–Ω–∏—è
- [cite_start]–ï—Å–ª–∏ –≤–æ–ø—Ä–æ—Å –Ω–µ –∫–∞—Å–∞–µ—Ç—Å—è –ø–æ–¥–±–æ—Ä–∞ (–≤–∏–∑—ã, –æ–ø–ª–∞—Ç–∞, –≤–æ–∑–≤—Ä–∞—Ç—ã), –æ—Ç–≤–µ—á–∞–π –∏–∑ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π (RAG) –∏ –≤–æ–∑–≤—Ä–∞—â–∞–π—Å—è –∫ —Å—Ü–µ–Ω–∞—Ä–∏—é –ø–æ–¥–±–æ—Ä–∞ [cite: 55-58].